{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Items(){const[items,setItems]=useState([]);const[randomItem,setRandomItem]=useState(null);const[content,setContent]=useState('');// For adding new items\nconst[deleteId,setDeleteId]=useState('');// For deleting items by ID\n// Fetch items and a random item on component mount\nuseEffect(()=>{fetchItems();},[]);// Function to fetch items\nconst fetchItems=()=>{fetch('/api/items').then(response=>response.json()).then(data=>{setItems(data.items);setRandomItem(data.randomItem);});};// Function to add an item\nconst addItem=event=>{event.preventDefault();// Prevent form submission from reloading the page\nfetch('/api/add',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({content})}).then(()=>{fetchItems();// Refresh items list\nsetContent('');// Clear input field\n});};// Function to delete an item\nconst deleteItem=event=>{event.preventDefault();// Prevent form submission from reloading the page\nfetch('/api/delete',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:deleteId})}).then(()=>{fetchItems();// Refresh items list\nsetDeleteId('');// Clear input field\n});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Random Item: \",randomItem?randomItem.content:'No items found']}),/*#__PURE__*/_jsx(\"ul\",{children:items.map(item=>/*#__PURE__*/_jsxs(\"li\",{children:[item.id,\": \",item.content]},item.id))}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addItem,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:content,onChange:e=>setContent(e.target.value),placeholder:\"Add new item\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Item\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:deleteItem,children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:deleteId,onChange:e=>setDeleteId(e.target.value),placeholder:\"ID to delete\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Delete Item\"})]})]});}export default Items;","map":{"version":3,"names":["React","useEffect","useState","jsxs","_jsxs","jsx","_jsx","Items","items","setItems","randomItem","setRandomItem","content","setContent","deleteId","setDeleteId","fetchItems","fetch","then","response","json","data","addItem","event","preventDefault","method","headers","body","JSON","stringify","deleteItem","id","children","map","item","onSubmit","type","value","onChange","e","target","placeholder"],"sources":["D:/VisualCodeProjects/nodepsql/client/src/components/Items.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nfunction Items() {\r\n    const [items, setItems] = useState([]);\r\n    const [randomItem, setRandomItem] = useState(null);\r\n    const [content, setContent] = useState(''); // For adding new items\r\n    const [deleteId, setDeleteId] = useState(''); // For deleting items by ID\r\n\r\n    // Fetch items and a random item on component mount\r\n    useEffect(() => {\r\n        fetchItems();\r\n    }, []);\r\n\r\n    // Function to fetch items\r\n    const fetchItems = () => {\r\n        fetch('/api/items')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setItems(data.items);\r\n                setRandomItem(data.randomItem);\r\n            });\r\n    };\r\n\r\n    // Function to add an item\r\n    const addItem = (event) => {\r\n        event.preventDefault(); // Prevent form submission from reloading the page\r\n        fetch('/api/add', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ content }),\r\n        })\r\n        .then(() => {\r\n            fetchItems(); // Refresh items list\r\n            setContent(''); // Clear input field\r\n        });\r\n    };\r\n\r\n    // Function to delete an item\r\n    const deleteItem = (event) => {\r\n        event.preventDefault(); // Prevent form submission from reloading the page\r\n        fetch('/api/delete', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ id: deleteId }),\r\n        })\r\n        .then(() => {\r\n            fetchItems(); // Refresh items list\r\n            setDeleteId(''); // Clear input field\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Random Item: {randomItem ? randomItem.content : 'No items found'}</h1>\r\n            <ul>\r\n                {items.map(item => (\r\n                    <li key={item.id}>{item.id}: {item.content}</li>\r\n                ))}\r\n            </ul>\r\n            <form onSubmit={addItem}>\r\n                <input\r\n                    type=\"text\"\r\n                    value={content}\r\n                    onChange={(e) => setContent(e.target.value)}\r\n                    placeholder=\"Add new item\"\r\n                />\r\n                <button type=\"submit\">Add Item</button>\r\n            </form>\r\n            <form onSubmit={deleteItem}>\r\n                <input\r\n                    type=\"number\"\r\n                    value={deleteId}\r\n                    onChange={(e) => setDeleteId(e.target.value)}\r\n                    placeholder=\"ID to delete\"\r\n                />\r\n                <button type=\"submit\">Delete Item</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Items;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}